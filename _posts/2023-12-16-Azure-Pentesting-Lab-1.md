---
layout: post
title: "DART CTF - Objective 1"
date: 2023-12-16
image: ../../assets/img/Posts/az1.png
categories: [Offensive Security & Red Teaming, Azure Red Teaming Labs, DART CTF]
tags: [azure, webapp, SAS url, api, logic app, redteaming, offensive security]
---

# Objective 1

Task
- Using the website - https://initiatedart.z13.web.core.windows.net/, find out more information
about DARTâ€™s resources in Azure.
- Capture Flag 1.

# Solution

Visiting the website, you get an Azure Static Web App:

https://initiatedart.z13.web.core.windows.net/#about

![image](https://gist.github.com/assets/58165365/31788940-011a-4fad-86e0-b7805ee37e99)


There is nothing really interesting to poke around with, so let's review the page source. I realised that the css was fetched from the companies ([AlteredSecurity](https://github.com/AlteredSecurity/DARTApp)) github:

![image](https://gist.github.com/assets/58165365/240e832f-15f1-46c0-bbf9-e0422687720e)

I also came across an exposed SAS Url that we will explore later.

![image](https://gist.github.com/assets/58165365/a90cf5ee-fc85-48b0-a4dc-d6f2a5fbb082)

However, visiting it displays an image.

![image](https://gist.github.com/assets/58165365/9f7a2c5e-61f9-4c74-87ff-5c661aeca3f2)

Exploring the css file fetched from github leaked yet another url that looks like a Microsoft logic app URL and **Flag 1**

![image](https://gist.github.com/assets/58165365/5cf09939-69d4-45dd-a7bd-e3c400836aef)

Visiting the URL, you get this error

![image](https://gist.github.com/assets/58165365/3da014d1-7c26-443b-9203-99cbd53c00e4)

This indicates that the request is missing a required query parameter: `api-version`. In Azure services, and particularly in Logic Apps, the `api-version` query parameter is often mandatory for API requests. This parameter specifies the version of the API that the request is intended for, ensuring that the correct version of the API is used to process the request.

In the next blog post of this series, we are going to dig deeper and see if we can find the `api-version` information in [**Objective 2**](). I'm also going to explain more about SAS URLs & Azure Logic Apps.

See you there. ðŸ˜Ž
